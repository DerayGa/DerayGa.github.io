<!DOCTYPE html>
<html>
<head>
	<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
	<title>Deray 嘎嘎嘎</title>
	<meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <meta property="og:image" content="http://derayga.github.io/image/tibet.jpg">
  <meta property="og:title" content="Deray 嘎嘎嘎">
  <meta property="og:description" content="單車遊記、自助旅行和閒聊夢想">
	<link type='text/css' rel='stylesheet' href='./css/jquery.capty.css'/>
	<link type='text/css' rel='stylesheet' href='./css/normalize.css'/>
	<link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
	<script src='./js/jquery.min.js'></script>
	<script src='./js/masonry.pkgd.min.js'></script>
	<script src='./js/jquery.capty.min.js'></script>
	<style>
		body{
			padding: 0px;
			margin: 0px;
		}
		.capty-wrapper{
			display: inline-block;
		}
		.capty-caption div{
			font-size:16px;
			font-family: '微軟正黑體', arial;
			text-align: center;
		}
		.grid-item:hover .capty-caption div{
			font-size:18px;
		}
		.grid-item {
			width: 342px;
			display: inline-block;
		}
	</style>
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<script>
	  (adsbygoogle = window.adsbygoogle || []).push({
	    google_ad_client: "ca-pub-1111626223306134",
	    enable_page_level_ads: true
	  });
	</script>
</head>
<body>
	<div class='grid'></div>
</body>

<script type='text/javascript'>
	var items = [
		{
			id: 'blog',
			name: '日誌、部落格',
			link: 'blog.deray.org',
		},
		{
			id: 'nippon',
			name: '單車-環日本 (2015年)',
			link: 'nippon.deray.org',
		},
		{
			id: 'hokkaido',
			name: '機車-環北海道 (2014年)',
			link: 'blog.deray.org/hokkaido',
		},
		{
			id: 'tibet',
			name: '單車-西藏：青藏線 (2013年)',
			link: 'blog.deray.org/tibet',
		},
		{
			id: 'franceWithMisasa',
			name: '背包-火車環法國 (2012年)',
			link: 'blog.deray.org/franceWithMisasa',
		},
		{
			id: 'btp',
			name: '單車-北京到巴黎 (2007年)',
			link: 'btp.deray.org',
		},
		{
			id: 'kyoto',
			name: '背包-京都、大阪 (2006年)',
			link: 'blog.deray.org/kyoto',
		},
		{
			id: 'france',
			name: '單車-環法國 (2005年)',
			link: 'france.deray.org',
		},
		{
			id: 'bicycle',
			name: '單車-環台 (2003年)',
			link: 'bicycle.deray.org',
		}
	];

	var externals = [
		{
			id: 'youtube',
			height: 81,
			name: 'YouTube',
			link: 'www.youtube.com/user/DerayGo/videos'
		},
		{
			id: 'gmail',
			height: 83,
			name: 'Gmail',
			link: 'deraygo@gmail.com?subject=Hi~Deray'
		},
		{
			id: 'github',
			height: 114,
			name: 'GitHub',
			link: 'github.com/derayGa'
		},
		{
			id: 'wikipedia',
			height: 103,
			name: '維基百科',
			link: 'zh.wikipedia.org/wiki/%E8%96%9B%E5%BE%B7%E7%91%9E'
		},
		{
			id: 'linkedin',
			height: 114,
			name: 'LinkedIn',
			link: 'tw.linkedin.com/in/derayga'
		},
		{
			id: 'cv',
			height: 114,
			name: 'CV',
			link: 'derayga.github.io/cv'
		}
	]

	$(document).ready(function() {
		if (window.self !== window.top) {
			window.top.location = window.location.href;
			return;
		}

		var width = 341;
		var height = 250;
		var extWidth = 113;

		if (window.location.href.toLowerCase().indexOf('github.io') > -1) {
			window.document.title += ' - GitHub 版本';
		}

		$.each(items, function(index, item) {
			var a = $(document.createElement('a')).attr({
				href: `//${item.link}`
			});

			var gridItem = $(document.createElement('div'))
				.addClass('grid-item').height(height).width(width);

			var image = $(document.createElement('img')).attr({
				src: `image/${item.id}.jpg`,
				name: `#${item.id}`,
				title: item.name,
				height: `${item.height}px`,
				width: `${width}px`,
			}).hide()[0];

			image.context = $(document.createElement('div')).attr({
				id: item.id
			}).html(`${item.name}<br/><a href="${a.attr('href')}">${item.link}</a>`).hide();

			$('.grid').append($(gridItem).append($(a).append($(image)).append($(image.context))));
		});

		var extItem = $(document.createElement('div'))
			.addClass('grid-item').height(height).width(width);
		$.each(externals, function(index, item) {
			var protocal = (item.id == 'gmail') ? 'mailto:' : '//';

			var a = $(document.createElement('a')).attr({
				href: protocal + item.link
			});

			var image = $(new Image()).attr({
				src: `image/${item.id}.jpg`,
				name: `#${item.id}`,
				title: item.name,
				height: `${item.height}px`,
				width: `${extWidth}px`,
			}).hide()[0];

			image.context = $(document.createElement('div')).attr({
				id: item.id
			}).html(item.name).hide();

			$(extItem).append($(a).append($(image)).append($(image.context)))
		});

		$('.grid').append($(extItem));

		$('.grid').masonry({
			itemSelector: '.grid-item',
			columnWidth: width,
			gutter: 0
		});

		$.each($('.grid img'), function(index, image) {
			$(image).delay(index * 165).fadeIn({
				duration:330,
				complete: function() {
					if (image.context) {
						$(image).capty({
				  		animation: ($(image).width() <= extWidth) ? undefined : 'fixed',
							height: ($(image).width() <= extWidth) ? 35 : 60,
							opacity: 0.75,
						});
						$(image.context).fadeIn(500);
					}
				}
			});
		});
	});
</script>
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-1041499-1', 'auto');
	ga('send', 'pageview');
</script>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 閱讀更多 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1111626223306134"
     data-ad-slot="3289974652"
     data-ad-format="autorelaxed"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</html>

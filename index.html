<!DOCTYPE html>
<html>
<head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'/>
    <title>Deray 嘎嘎嘎</title>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <meta property="og:image" content="http://derayga.github.io/image/tibet.jpg">
    <meta property="og:title" content="Deray 嘎嘎嘎">
    <meta property="og:description" content="單車遊記、自助旅行和閒聊夢想">
    <link type='text/css' rel='stylesheet' href='./css/jquery.capty.css'/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"/>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
    <link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/masonry/4.1.1/masonry.pkgd.min.js"></script>
    <script src='./js/jquery.capty.min.js'></script>
    <style>
        body {
            padding: 0;
            margin: 0;
            overflow-y: auto;
            overflow-x: hidden;
        }

        ::-webkit-scrollbar {
            width: 0;
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: skyblue;
        }

        .capty-wrapper {
            display: inline-block;
        }

        .capty-caption div {
            font-size: 16px;
            font-family: '微軟正黑體', arial;
            text-align: center;
        }

        .grid-item:hover .capty-caption div {
            font-size: 18px;
        }

        .grid-item {
            width: 342px;
            display: inline-block;
        }
    </style>
</head>
<body>
<div class='grid'></div>
</body>

<script type='text/javascript'>
  var items = [
    {
      id: 'blog',
      name: '日誌、部落格',
      link: 'blog.deray.org',
    },
    {
      id: 'henro',
      name: '單車-四國遍路 (2017年)',
      link: 'deray.org/henro',
    },
    {
      id: 'nippon',
      name: '單車-日本 (2015年)',
      link: 'nippon.deray.org',
    },
    {
      id: 'hokkaido',
      name: '機車-北海道 (2014年)',
      link: 'deray.org/hokkaido',
    },
    {
      id: 'tibet',
      name: '單車-西藏：青藏線 (2013年)',
      link: 'deray.org/tibet',
    },
    {
      id: 'franceWithMisasa',
      name: '背包-法國 (2012年)',
      link: 'deray.org/franceWithMisasa',
    },
    {
      id: 'btp',
      name: '單車-北京到巴黎 (2007年)',
      link: 'btp.deray.org',
    },
    {
      id: 'kyoto',
      name: '背包-京都、大阪 (2006年)',
      link: 'deray.org/kyoto',
    },
    {
      id: 'france',
      name: '單車-法國 (2005年)',
      link: 'france.deray.org',
    },
    {
      id: 'taiwan',
      name: '單車-台灣 (2003年)',
      link: 'deray.org/taiwan',
    }
  ];

  var externals = [
    {
      id: 'youtube',
      height: 81,
      name: 'YouTube',
      link: 'www.youtube.com/user/DerayGo/videos'
    },
    {
      id: 'gmail',
      height: 83,
      name: 'Gmail',
      link: 'deraygo@gmail.com?subject=Hi~Deray'
    },
    {
      id: 'github',
      height: 114,
      name: 'GitHub',
      link: 'github.com/derayGa'
    },
    {
      id: 'wikipedia',
      height: 103,
      name: '維基百科',
      link: 'zh.wikipedia.org/wiki/%E8%96%9B%E5%BE%B7%E7%91%9E'
    },
    {
      id: 'linkedin',
      height: 114,
      name: 'LinkedIn',
      link: 'tw.linkedin.com/in/derayga'
    },
    {
      id: 'cv',
      height: 114,
      name: 'CV',
      link: 'derayga.github.io/cv'
    }
  ]

  $(document).ready(function() {
    if (window.self !== window.top) {
      window.top.location = window.location.href;
      return;
    }
    var imgs = [];
    var baseHeight = 250;
    var baseWidth = 341;
    var baseExtWidth = 113;
    var windowWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
    var rate = Math.round(windowWidth / baseWidth);
    var width = Math.floor(windowWidth / rate);
    var extWidth = Math.floor(width / 3);
    var height = Math.floor(baseHeight * (width / baseWidth));
    handleResize();
    var flag = null;
    $(window).resize(function() {
      $('.grid').css('margin-left', 0);
      clearTimeout(flag)
      flag = setTimeout(handleResize, 800)
    });

    function handleResize() {
      windowWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
      $('.grid').css('margin-left', (windowWidth % width) / 2);
    }

    if (window.location.href.toLowerCase().indexOf('github.io') > -1) {
      window.document.title += ' - GitHub 版本';
    }

    $.each(items, function(index, item) {
      var a = $(document.createElement('a')).attr({
        href: '//' + item.link,
      });

      var gridItem = $(document.createElement('div'))
        .addClass('grid-item').height(height).width(width);

      var image = $(document.createElement('img')).attr({
        src: 'image/' + item.id + '.jpg',
        name: '#' + item.id,
        title: item.name,
        height: height + 'px',
        width: width + 'px',
      }).hide();

      var context = $(document.createElement('div')).attr({
        id: item.id
      }).html(item.name + '<br/><a href="' + a.attr('href') + '">' + item.link + '</a>').hide();

      $(a).append($(image)).append($(context))
      $('.grid').append($(gridItem).append($(a)));

      imgs.push(image);
    });

    var extItem = $(document.createElement('div'))
      .addClass('grid-item').height(height).width(width);
    $.each(externals, function(index, item) {
      var protocal = (item.id == 'gmail') ? 'mailto:' : '//';

      var a = $(document.createElement('a')).attr({
        href: protocal + item.link
      });

      var image = $(document.createElement('img')).attr({
        src: 'image/' + item.id + '.jpg',
        name: '#' + item.id,
        title: item.name,
        height: Math.floor(item.height * (extWidth / baseExtWidth)) + 'px',
        width: extWidth + 'px',
      }).hide();

      var context = $(document.createElement('div')).attr({
        id: item.id
      }).html(item.name).hide();

      $(a).append($(image)).append($(context))
      $(extItem).append($(a));
      imgs.push(image);
    });

    $('.grid').append($(extItem));

    $('.grid').masonry({
      itemSelector: '.grid-item',
      columnWidth: width,
      gutter: 0
    });

    $.each(imgs, function(index, image) {
      $(image).delay(index * 165).fadeIn({
        duration: 330,
        complete: function() {
          var context = $(image).siblings();
          if (context) {
            var imageWidth = Number($(image).attr('width').replace('px', ''));
            $(image).capty({
              animation: (imageWidth <= extWidth) ? undefined : 'fixed',
              height: (imageWidth <= extWidth) ? 35 : 60,
              opacity: 0.75,
            });
            $(context).fadeIn(500);
          }
        }
      });
    });
  });
</script>
<script>
  (function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
      m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

  ga('create', 'UA-1041499-1', 'auto');
  ga('send', 'pageview');
</script>
</html>
